<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School Student Records</title>
<style>
body {
font-family: Arial, sans-serif;
margin: 20px;
background: #f4f6f9;
}
h1 {
text-align: center;
color: #2c3e50;
}
form {
margin-bottom: 20px;
padding: 15px;
background: white;
border-radius: 8px;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
input, select, button {
padding: 8px;
margin: 5px;
}
table {
width: 100%;
border-collapse: collapse;
background: white;
}
th, td {
border: 1px solid #ddd;
padding: 10px;
text-align: center;
}
th {
background: #3498db;
color: white;
}
tr:nth-child(even) {background: #f9f9f9;}
button {
cursor: pointer;
padding: 5px 8px;
}
#searchBox {
margin-bottom: 15px;
padding: 8px;
width: 100%;
border-radius: 4px;
border: 1px solid #ccc;
}
</style>
</head>
<body>

<h1>School Student Records</h1>

<!-- Search box -->
<input type="text" id="searchBox" placeholder="Search by name or admission number...">

<!-- Student Form -->
<form id="studentForm">
<input type="text" id="name" placeholder="Full Name" required>
<input type="number" id="age" placeholder="Age" required>
<input type="date" id="dob" required>
<input type="text" id="admission" placeholder="Admission Number" required>
<select id="classLevel" required>
<option value="">Select Class</option>
<option value="Kindergarten">Kindergarten 1</option>
<option value="Kindergarten">Kindergarten 2</option>    
<option value="Primary">Primary 1</option>
<option value="Primary">Primary 2</option>
<option value="Primary">Primary 3</option>
<option value="Primary">Primary 4</option>
<option value="Primary">Primary 5</option>
<option value="Primary">Primary 6</option>    
<option value="JHS">JHS 1</option>
<option value="JHS">JHS 2</option>
<option value="JHS">JHS 3</option>    
</select>
<button type="submit">Save Student</button>
</form>

<!-- Student Table -->
<table id="studentTable">
<thead>
<tr>
<th>Name</th>
<th>Age</th>
<th>Date of Birth</th>
<th>Admission No.</th>
<th>Class</th>
<th>Actions</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
const form = document.getElementById('studentForm');
const tableBody = document.querySelector('#studentTable tbody');
const searchBox = document.getElementById('searchBox');

let students = JSON.parse(localStorage.getItem('students')) || [];
let editIndex = null;

// Render table
function renderTable(filter = "") {
tableBody.innerHTML = '';
students
.filter(s =>
s.name.toLowerCase().includes(filter.toLowerCase()) ||
s.admission.toLowerCase().includes(filter.toLowerCase())
)
.forEach((student, index) => {
const row = document.createElement('tr');
row.innerHTML = `
<td>${student.name}</td>
<td>${student.age}</td>
<td>${student.dob}</td>
<td>${student.admission}</td>
<td>${student.classLevel}</td>
<td>
<button onclick="editStudent(${index})">Edit</button>
<button onclick="deleteStudent(${index})">Delete</button>
</td>
`;
tableBody.appendChild(row);
});
}

// Save form
form.addEventListener('submit', function(e) {
e.preventDefault();
const newStudent = {
name: document.getElementById('name').value,
age: document.getElementById('age').value,
dob: document.getElementById('dob').value,
admission: document.getElementById('admission').value,
classLevel: document.getElementById('classLevel').value
};

if (editIndex !== null) {
students[editIndex] = newStudent;
editIndex = null;
} else {
students.push(newStudent);
}

localStorage.setItem('students', JSON.stringify(students));
renderTable();
form.reset();
});

// Edit student
function editStudent(index) {
const student = students[index];
document.getElementById('name').value = student.name;
document.getElementById('age').value = student.age;
document.getElementById('dob').value = student.dob;
document.getElementById('admission').value = student.admission;
document.getElementById('classLevel').value = student.classLevel;
editIndex = index;
}

// Delete student
function deleteStudent(index) {
if (confirm("Are you sure you want to delete this record?")) {
students.splice(index, 1);
localStorage.setItem('students', JSON.stringify(students));
renderTable();
}
}

// Search
searchBox.addEventListener('input', () => {
renderTable(searchBox.value);
});

// Initial render
renderTable();
</script>

</body>
</html>
